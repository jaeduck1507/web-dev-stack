<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>객체</title>
  </head>
  <body>
    <h1>객체</h1>
    <script>
      /*
            사람 {
                // 특징들 => 변수
                이름,
                나이,
                사는 곳

                // 행동들 => 함수 (기능)
                일어난다
                밥먹는다
                씻는다
                옷입는다
                나간다
            }
        */
      // 서로 관련있다는게 보이지 않음
      const name = "오재덕";
      const age = 10;
      const addr = "서울";

      // 서로 관련이 있다는건 보임, 의미 파악 불가
      const personArr = ["오재덕", 10, "서울"];

      // 객체 : 키 - 값 구조
      const personObj = {
        name: "오재덕",
        age: 10,
        addr: "서울",
        hello() {
          console.log(`안녕하세요 ${this.name}입니다`);
        },
      };
      console.log(personObj);
      personObj.hello();
      console.log(personObj.name);
      personObj.age += 1;
      console.log(personObj.age);

      const salayPagingDTO = {
        offset: 0,
        limit: 5,
        page: 1,
        pageSig: 10,
        endPage: this.pageSize,
        startPage: this.endPage - this.pageSize + 1,
        prev : false,
        next : false,
        total: 0,

        setTotal() {
          this.total = total;
          this.offset = (page - 1) * limit;

          this.endPage = Math.ceil(this.page / this.pageSize) * this.pageSize;
          this.startPage = this.endPage - this.pageSize + 1;

          // 자바: lastPage = ceil(total / limit)
          const lastPage = Math.ceil(this.total / this.limit);

          if (lastPage < this.endPage) {
            this.endPage = lastPage;
          }

          this.prev = this.startPage > 1;
          this.next = this.endPage < lastPage;
        }

      };


    </script>

    <h2>1. 객체 생성과 속성/함수 추가</h2>
    <script>
      const person1 = {};
      person1.name = "오재덕";
      person1["age"] = 8;
      person1.hello = function () {
        console.log(`안녕 나는 ${this.name}이고 나이는 ${this.age}`);
      };
      person1.hello();
      const person2 = new Object(); // 거의 안 씀 {} 랑 동일
      person2.name = "오재덕";
      person2.age = 7;
      person2.hello = function () {
        console.log(`안녕 나는 ${this.name}이고 나이는 ${this.age}`);
      };
      person2.hello();
    </script>

    <h2>2. this</h2>
    <script>
      const objFunc = {
        name: "오재덕",
        func: function () {
          console.log(this);
          console.log(`익명 함수 : ${this.name}`);
        },
      };
      objFunc.func();
      const objArrow = {
        name: "오우재덕",
        func: () => {
          console.log(this);
          // 외부 this (전역 객체 - Window)
          console.log(`화살표 함수 : ${this.name}`);
        },
      };
      objArrow.func();

      // 매서드 축약형 (Method Shorthand)
      const objMethod = {
        name: "오오재덕",
        func() {
          console.log(`축약형 : ${this.name}`);
        },
      };
      objMethod.func();
    </script>

    <h2>3. 생성자 함수 & 클래스</h2>
    <script>
      // 생성자 함수
      function Person(name, age) {
        this.name = name;
        this.age = age;
        this.hello = function () {
          console.log(`안녕 나는 ${this.name}이고 나이는 ${this.age}`);
        };
      }

      const p1 = new Person("오5재덕", 11);
      const p2 = new Person("덕재오", 15);
      p1.hello();
      p2.hello();

      // 클래스
      class Person2 {
        // constructor : 클래스 객체를 생성할 때 호출되는 함수
        constructor(name, age) {
          this.name = name;
          this.age = age;
        }
        hello = function () {
          console.log(`안녕 나는 ${this.name}이고 나이는 ${this.age}`);
        };
      }
      const p3 = new Person2("재덕오", 5);
      p3.hello();
    </script>
  </body>
</html>
